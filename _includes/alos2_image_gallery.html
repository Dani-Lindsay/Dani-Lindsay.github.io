<style>
#alos2ImageGallery {
  text-align: center;
  max-width: 800px;
  margin: 0 auto;
  position: relative;
}

.nav-button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(0, 140, 186, 0.8);
  border: none;
  color: white;
  padding: 15px 20px;
  text-align: center;
  text-decoration: none;
  font-size: 16px;
  cursor: pointer;
  border-radius: 5px;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 2;
}

.nav-button:hover {
  background-color: rgba(0, 95, 121, 0.9);
}

#prevButton {
  left: 0;
}

#nextButton {
  right: 0;
}

.nav-zone {
  position: absolute;
  top: 0;
  height: 100%;
  width: 20%;
  z-index: 1;
}

.nav-zone-left {
  left: 0;
}

.nav-zone-right {
  right: 0;
}

.nav-zone-left:hover #prevButton,
.nav-zone-right:hover #nextButton {
  opacity: 1;
}

#alos2Image {
  width: 700px;
  height: 500px;
  object-fit: contain;
  margin: 20px auto;
  background-color: #f5f5f5;
  border: 1px solid #ddd;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

#alos2ImageCaption {
  font-style: italic;
  margin: 0 auto 20px auto;
  max-width: 700px;
  padding: 0 20px;
}
</style>

<div id="alos2ImageGallery">
  <div class="nav-zone nav-zone-left">
    <button id="prevButton" class="nav-button">←</button>
  </div>
  <div class="nav-zone nav-zone-right">
    <button id="nextButton" class="nav-button">→</button>
  </div>
  <img id="alos2Image" src="/images/research/velocity_fields.png" alt="ALOS-2 InSAR Results">
  <div id="alos2ImageCaption">Line-of-sight (LOS) velocity maps for tracks a) 169, b) 170, and c) 068 with reference pixel location (black square). Negative LOS represents a movement away from the SAR platform, as seen in subsidence in the Central Valley.</div>
</div>

<script>
  const images = [
    { src: "/images/research/velocity_fields.png", caption: "Line-of-sight (LOS) velocity maps for tracks a) 169, b) 170, and c) 068 with reference pixel location (black square). Negative LOS represents a movement away from the SAR platform, as seen in subsidence in the Central Valley." },  
    { src: "/images/research/velocity_fields_residuals.png", caption: "Scatter plots of GNSS vs InSAR for each track (d, e, f) with a grey line showing 1:1 agreement, dashed is the regression line, and each point is colored by distance from the reference station CASR. (g, h, i) histograms of residuals with proportions of residuals within +/- 2 mm/yr highlighted" },
    { src: "/images/research/alos2_3.png", caption: "Velocity maps for ALOS-2 (a) and Sentiel-1 (b) for July 2021 - March 2024. East-west (c) and north-south (d) velocity field cross-sections for each dataset. Time series comparison with GNSS east, north, and up (e) or just InSAR projected to Up (f)." },
    { src: "/images/research/alos2_5.png", caption: "(a) Vertical velocity field, insert shows the location of Medicine Lake volcano (b,c). Cross-section through vertical velocity field (d) and east-west (e) directions." },
  ];

  let currentImageIndex = 0;

  const imageElement = document.getElementById('alos2Image');
  const captionElement = document.getElementById('alos2ImageCaption');
  const prevButton = document.getElementById('prevButton');
  const nextButton = document.getElementById('nextButton');

  function showImage(index) {
    imageElement.src = images[index].src;
    captionElement.textContent = images[index].caption;
    currentImageIndex = index;
  }

  function showPreviousImage() {
    let newIndex = currentImageIndex - 1;
    if (newIndex < 0) {
      newIndex = images.length - 1;
    }
    showImage(newIndex);
  }

  function showNextImage() {
    let newIndex = currentImageIndex + 1;
    if (newIndex >= images.length) {
      newIndex = 0;
    }
    showImage(newIndex);
  }

  prevButton.addEventListener('click', showPreviousImage);
  nextButton.addEventListener('click', showNextImage);
</script>
